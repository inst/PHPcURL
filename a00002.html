<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
	<title>PHPcURL: cURL Class Reference</title>
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<link href="doxygen.css" rel="stylesheet" type="text/css"/>
	<link href="tabs.css" rel="stylesheet" type="text/css"/>
	<link href="search/search.css" rel="stylesheet" type="text/css"/>

	<script type="text/javascript" src="search/search.js"></script>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<h1>cURL Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="cURL" -->
<p>Object-oriented wrapper on default PHP <a class="el" href="a00002.html" title="Object-oriented wrapper on default PHP cURL functions.">cURL</a> functions.  
<a href="#_details">More...</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00002.html#a58d3c3b3942cba0ec609f3b976df071a">__construct</a> (array $settings=array())</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Create new object instance.  <a href="#a58d3c3b3942cba0ec609f3b976df071a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00002.html#aaa612ff5c1295a3f34551c72732a73d9">init</a> ($url, $options=FALSE)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a new <a class="el" href="a00002.html" title="Object-oriented wrapper on default PHP cURL functions.">cURL</a> session.  <a href="#aaa612ff5c1295a3f34551c72732a73d9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00002.html#a04f65f438657b85a8ade972337bae40a">set_option</a> ($option, $value, $key=0)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set an option for a <a class="el" href="a00002.html" title="Object-oriented wrapper on default PHP cURL functions.">cURL</a> transfer.  <a href="#a04f65f438657b85a8ade972337bae40a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00002.html#a4a4d54096ca38588538dc6d985a9d770">set_options</a> (array $options, $key=0)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set multiple options for a <a class="el" href="a00002.html" title="Object-oriented wrapper on default PHP cURL functions.">cURL</a> transfer.  <a href="#a4a4d54096ca38588538dc6d985a9d770"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00002.html#a127dd482f013a004d70d80ceb860064a">exec</a> ($key=FALSE)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform a queued <a class="el" href="a00002.html" title="Object-oriented wrapper on default PHP cURL functions.">cURL</a> transfers.  <a href="#a127dd482f013a004d70d80ceb860064a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00002.html#a58091a18a0bdccb39945a7b64130656d">errors</a> ($key=FALSE)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Return error number and it's description.  <a href="#a58091a18a0bdccb39945a7b64130656d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00002.html#ac81de18f56fe9fe2cfe5f06325feff61">info</a> ($key=FALSE, $option=FALSE)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get information regarding a specific transfer number.  <a href="#ac81de18f56fe9fe2cfe5f06325feff61"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00002.html#a464afe86dc5418c7f673742e85d6e109">close</a> ($key=FALSE)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Close session.  <a href="#a464afe86dc5418c7f673742e85d6e109"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00002.html#ae943dff49900fb46e5cb89bd3a9959ae">clear</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Close all the sessions invoked with this object.  <a href="#ae943dff49900fb46e5cb89bd3a9959ae"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00002.html#ab1c247c6f8bfc35984325e6b40eb45a8">__destruct</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy object.  <a href="#ab1c247c6f8bfc35984325e6b40eb45a8"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<div class="textblock"><h2><a class="anchor" id="Information"></a>
Information</h2>
<dl class="version"><dt><b>Version:</b></dt><dd>0.1 </dd></dl>
<dl class="author"><dt><b>Author:</b></dt><dd>inst, <a href="http://www.inst.tk/">http://www.inst.tk/</a> </dd></dl>
<dl class="date"><dt><b>Date:</b></dt><dd>2011 </dd></dl>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a58d3c3b3942cba0ec609f3b976df071a"></a><!-- doxytag: member="cURL::__construct" ref="a58d3c3b3942cba0ec609f3b976df071a" args="(array $settings=array())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cURL::__construct </td>
          <td>(</td>
          <td class="paramtype">array $&#160;</td>
          <td class="paramname"><em>settings</em> = <code>array()</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>While creating an instance of object of this class it will automaticaly check that needed <a class="el" href="a00002.html" title="Object-oriented wrapper on default PHP cURL functions.">cURL</a> extension isn't availible on hosting and if so then will throw a <a class="el" href="a00003.html" title="cURL specific exception.">cURLException</a>.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">settings</td><td>(optional) An associative array of default values. It's used to initialize every session. Every record in this array must be in format where the key is one of default CURLOPT_XXX constants and the value is proper value for this constant. The exception is a parameters applied to whole class instance not every separate session. They can't be reinitiated later. For now it's the only one parameter:</p>
<ul>
<li>retry: indicates how many tries should <a class="el" href="a00002.html" title="Object-oriented wrapper on default PHP cURL functions.">cURL</a> do before returning a server error.</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="a00002.html#a4a4d54096ca38588538dc6d985a9d770" title="Set multiple options for a cURL transfer.">set_options()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ab1c247c6f8bfc35984325e6b40eb45a8"></a><!-- doxytag: member="cURL::__destruct" ref="ab1c247c6f8bfc35984325e6b40eb45a8" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cURL::__destruct </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Here is the benefits of object-oriented programing begins: now we have no need to remember what sessions we have initialized, because they will be closed automaticaly on object destroying. </p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="ae943dff49900fb46e5cb89bd3a9959ae"></a><!-- doxytag: member="cURL::clear" ref="ae943dff49900fb46e5cb89bd3a9959ae" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cURL::clear </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Destroys all sessions if there were any by closing them. </p>

</div>
</div>
<a class="anchor" id="a464afe86dc5418c7f673742e85d6e109"></a><!-- doxytag: member="cURL::close" ref="a464afe86dc5418c7f673742e85d6e109" args="($key=FALSE)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cURL::close </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>key</em> = <code>FALSE</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Closes one session if first parameter given or works like <a class="el" href="a00002.html#ae943dff49900fb46e5cb89bd3a9959ae" title="Close all the sessions invoked with this object.">clear()</a> otherwise.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>(optional) Number of session handle. If not passed, all sessions will be closed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a58091a18a0bdccb39945a7b64130656d"></a><!-- doxytag: member="cURL::errors" ref="a58091a18a0bdccb39945a7b64130656d" args="($key=FALSE)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cURL::errors </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>key</em> = <code>FALSE</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>(optional) Number of <a class="el" href="a00002.html" title="Object-oriented wrapper on default PHP cURL functions.">cURL</a> handle.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>If <code>key</code> is given, returns array with keys <code>num</code> and <code>err</code> that are equivalent to descibed below. If session performed succesfuly then <code>num</code> will be 0 (zero) and <code>err</code> will be just an empty string. If <code>key</code> is not specified, returns multidimensional array in format<ul>
<li><code>result[<b>handle_number</b>]['num']</code>: Internal number of <a class="el" href="a00002.html" title="Object-oriented wrapper on default PHP cURL functions.">cURL</a> error.</li>
<li><code>result[<b>handle_number</b>]['err']</code>: Clear text error message.</li>
</ul>
</dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a href="http://curl.haxx.se/libcurl/c/libcurl-errors.html">http://curl.haxx.se/libcurl/c/libcurl-errors.html</a> For possible error codes. </dd></dl>

</div>
</div>
<a class="anchor" id="a127dd482f013a004d70d80ceb860064a"></a><!-- doxytag: member="cURL::exec" ref="a127dd482f013a004d70d80ceb860064a" args="($key=FALSE)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cURL::exec </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>key</em> = <code>FALSE</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Executes the given <a class="el" href="a00002.html" title="Object-oriented wrapper on default PHP cURL functions.">cURL</a> session. This function should be called after initializing all <a class="el" href="a00002.html" title="Object-oriented wrapper on default PHP cURL functions.">cURL</a> sessions and all the options for the sessions are set. When key is not specified, if more than one session were initialized performs multithreaded execution. Should throw RuntimeException if some errors occured while multithreaded execution.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>(optional) Number of session handle. Usualy there is no need to use it.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Returns TRUE on success or FALSE on failure. However, if the CURLOPT_RETURNTRANSFER option is set, it will return the result (or the array of results) on success, FALSE on failure. </dd></dl>

</div>
</div>
<a class="anchor" id="ac81de18f56fe9fe2cfe5f06325feff61"></a><!-- doxytag: member="cURL::info" ref="ac81de18f56fe9fe2cfe5f06325feff61" args="($key=FALSE, $option=FALSE)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cURL::info </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>key</em> = <code>FALSE</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>option</em> = <code>FALSE</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Gets information about the last transfer in session with specified <code>key</code>.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">key</td><td>(optional) A number of a <a class="el" href="a00002.html" title="Object-oriented wrapper on default PHP cURL functions.">cURL</a> handle. </td></tr>
    <tr><td class="paramname">option</td><td>(optional) An option to check for.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>If both parameters are specified, returns string value of an <code>option</code> for session with number <code>key</code>. If only first parameter assigned then returns an associative array with the informational elements. If none parameters given, returns multidimensional array which as the first dimension contains a number of handle and the second is associative array of informational elements for that session.</dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a href="http://www.php.net/curl_getinfo">http://www.php.net/curl_getinfo</a> </dd></dl>

</div>
</div>
<a class="anchor" id="aaa612ff5c1295a3f34551c72732a73d9"></a><!-- doxytag: member="cURL::init" ref="aaa612ff5c1295a3f34551c72732a73d9" args="($url, $options=FALSE)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cURL::init </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>url</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>options</em> = <code>FALSE</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Creates first <a class="el" href="a00002.html" title="Object-oriented wrapper on default PHP cURL functions.">cURL</a> session or adds a new one to already exsisted queue. You can pass array as first parameter to initiate few sessions at once and every session will be associated with options specified by second parameter.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">url</td><td>A string containing URL to be proceed or an array of strings. If you pass to it array and some records in the middle of it will be wrong then they and the records followed after they wouldn't be initialized. </td></tr>
    <tr><td class="paramname">options</td><td>(optional) An associative array containing options of session or sessions (in case of array passed first parameter) to be created. It has higher priority and so will replace duplicate parameters from constructor.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Returns boolean FALSE, if session or sessions initiation failed. Otherwise returns TRUE. </dd></dl>

</div>
</div>
<a class="anchor" id="a04f65f438657b85a8ade972337bae40a"></a><!-- doxytag: member="cURL::set_option" ref="a04f65f438657b85a8ade972337bae40a" args="($option, $value, $key=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cURL::set_option </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>option</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>key</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets an option on the given <a class="el" href="a00002.html" title="Object-oriented wrapper on default PHP cURL functions.">cURL</a> session handle.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">option</td><td>The CURLOPT_XXX option to set. </td></tr>
    <tr><td class="paramname">value</td><td>The value to be set on <code>option</code>. </td></tr>
    <tr><td class="paramname">key</td><td>(optional) Number of session handle. In normal flow there is no need to use it.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Returns TRUE on success or FALSE on failure.</dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a href="http://www.php.net/curl_setopt">http://www.php.net/curl_setopt</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a4a4d54096ca38588538dc6d985a9d770"></a><!-- doxytag: member="cURL::set_options" ref="a4a4d54096ca38588538dc6d985a9d770" args="(array $options, $key=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cURL::set_options </td>
          <td>(</td>
          <td class="paramtype">array $&#160;</td>
          <td class="paramname"><em>options</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>key</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Sets multiple options for a <a class="el" href="a00002.html" title="Object-oriented wrapper on default PHP cURL functions.">cURL</a> session. This function is useful for setting a large amount of <a class="el" href="a00002.html" title="Object-oriented wrapper on default PHP cURL functions.">cURL</a> options without repetitively calling <a class="el" href="a00002.html#a04f65f438657b85a8ade972337bae40a" title="Set an option for a cURL transfer.">set_option()</a>. May throw DomainException.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">options</td><td>An array specifying which options to set and their values. The keys should be valid curl_setopt() constants or their integer equivalents. </td></tr>
    <tr><td class="paramname">key</td><td>(optional) Number of session handle. In normal flow there is no need to use it.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Returns TRUE if all options were successfully set. If an option could not be successfully set, FALSE is immediately returned, ignoring any future options in the options array.</dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a href="http://www.php.net/curl_setopt_array">http://www.php.net/curl_setopt_array</a> </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>cURL.class.php</li>
</ul>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

	</body>
</html>
