\hypertarget{a00002}{
\section{cURL Class Reference}
\label{a00002}\index{cURL@{cURL}}
}


Object-\/oriented wrapper on default PHP \hyperlink{a00002}{cURL} functions.  


\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{a00002_a58d3c3b3942cba0ec609f3b976df071a}{\_\-\_\-construct} (array \$settings=array())
\begin{DoxyCompactList}\small\item\em Create new object instance. \item\end{DoxyCompactList}\item 
\hyperlink{a00002_aaa612ff5c1295a3f34551c72732a73d9}{init} (\$url, \$options=FALSE)
\begin{DoxyCompactList}\small\item\em Add a new \hyperlink{a00002}{cURL} session. \item\end{DoxyCompactList}\item 
\hyperlink{a00002_a04f65f438657b85a8ade972337bae40a}{set\_\-option} (\$option, \$value, \$key=0)
\begin{DoxyCompactList}\small\item\em Set an option for a \hyperlink{a00002}{cURL} transfer. \item\end{DoxyCompactList}\item 
\hyperlink{a00002_a4a4d54096ca38588538dc6d985a9d770}{set\_\-options} (array \$options, \$key=0)
\begin{DoxyCompactList}\small\item\em Set multiple options for a \hyperlink{a00002}{cURL} transfer. \item\end{DoxyCompactList}\item 
\hyperlink{a00002_a127dd482f013a004d70d80ceb860064a}{exec} (\$key=FALSE)
\begin{DoxyCompactList}\small\item\em Perform a queued \hyperlink{a00002}{cURL} transfers. \item\end{DoxyCompactList}\item 
\hyperlink{a00002_a58091a18a0bdccb39945a7b64130656d}{errors} (\$key=FALSE)
\begin{DoxyCompactList}\small\item\em Return error number and it's description. \item\end{DoxyCompactList}\item 
\hyperlink{a00002_ac81de18f56fe9fe2cfe5f06325feff61}{info} (\$key=FALSE, \$option=FALSE)
\begin{DoxyCompactList}\small\item\em Get information regarding a specific transfer number. \item\end{DoxyCompactList}\item 
\hyperlink{a00002_a464afe86dc5418c7f673742e85d6e109}{close} (\$key=FALSE)
\begin{DoxyCompactList}\small\item\em Close session. \item\end{DoxyCompactList}\item 
\hyperlink{a00002_ae943dff49900fb46e5cb89bd3a9959ae}{clear} ()
\begin{DoxyCompactList}\small\item\em Close all the sessions invoked with this object. \item\end{DoxyCompactList}\item 
\hyperlink{a00002_ab1c247c6f8bfc35984325e6b40eb45a8}{\_\-\_\-destruct} ()
\begin{DoxyCompactList}\small\item\em Destroy object. \item\end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
\hypertarget{a00002_Information}{}\subsection{Information}\label{a00002_Information}
\begin{DoxyVersion}{Version}
0.1 
\end{DoxyVersion}
\begin{DoxyAuthor}{Author}
inst, \href{http://www.inst.tk/}{\tt http://www.inst.tk/} 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
2011 
\end{DoxyDate}


\subsection{Constructor \& Destructor Documentation}
\hypertarget{a00002_a58d3c3b3942cba0ec609f3b976df071a}{
\index{cURL@{cURL}!\_\-\_\-construct@{\_\-\_\-construct}}
\index{\_\-\_\-construct@{\_\-\_\-construct}!cURL@{cURL}}
\subsubsection[{\_\-\_\-construct}]{\setlength{\rightskip}{0pt plus 5cm}cURL::\_\-\_\-construct (
\begin{DoxyParamCaption}
\item[{array \$}]{settings = {\ttfamily array()}}
\end{DoxyParamCaption}
)}}
\label{a00002_a58d3c3b3942cba0ec609f3b976df071a}
While creating an instance of object of this class it will automaticaly check that needed \hyperlink{a00002}{cURL} extension isn't availible on hosting and if so then will throw a \hyperlink{a00003}{cURLException}.


\begin{DoxyParams}{Parameters}
{\em settings} & (optional) An associative array of default values. It's used to initialize every session. Every record in this array must be in format where the key is one of default CURLOPT\_\-XXX constants and the value is proper value for this constant. The exception is a parameters applied to whole class instance not every separate session. They can't be reinitiated later. For now it's the only one parameter:
\begin{DoxyItemize}
\item retry: indicates how many tries should \hyperlink{a00002}{cURL} do before returning a server error.
\end{DoxyItemize}\\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\hyperlink{a00002_a4a4d54096ca38588538dc6d985a9d770}{set\_\-options()} 
\end{DoxySeeAlso}
\hypertarget{a00002_ab1c247c6f8bfc35984325e6b40eb45a8}{
\index{cURL@{cURL}!\_\-\_\-destruct@{\_\-\_\-destruct}}
\index{\_\-\_\-destruct@{\_\-\_\-destruct}!cURL@{cURL}}
\subsubsection[{\_\-\_\-destruct}]{\setlength{\rightskip}{0pt plus 5cm}cURL::\_\-\_\-destruct (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{a00002_ab1c247c6f8bfc35984325e6b40eb45a8}
Here is the benefits of object-\/oriented programing begins: now we have no need to remember what sessions we have initialized, because they will be closed automaticaly on object destroying. 

\subsection{Member Function Documentation}
\hypertarget{a00002_ae943dff49900fb46e5cb89bd3a9959ae}{
\index{cURL@{cURL}!clear@{clear}}
\index{clear@{clear}!cURL@{cURL}}
\subsubsection[{clear}]{\setlength{\rightskip}{0pt plus 5cm}cURL::clear (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}
\label{a00002_ae943dff49900fb46e5cb89bd3a9959ae}
Destroys all sessions if there were any by closing them. \hypertarget{a00002_a464afe86dc5418c7f673742e85d6e109}{
\index{cURL@{cURL}!close@{close}}
\index{close@{close}!cURL@{cURL}}
\subsubsection[{close}]{\setlength{\rightskip}{0pt plus 5cm}cURL::close (
\begin{DoxyParamCaption}
\item[{\$}]{key = {\ttfamily FALSE}}
\end{DoxyParamCaption}
)}}
\label{a00002_a464afe86dc5418c7f673742e85d6e109}
Closes one session if first parameter given or works like \hyperlink{a00002_ae943dff49900fb46e5cb89bd3a9959ae}{clear()} otherwise.


\begin{DoxyParams}{Parameters}
{\em key} & (optional) Number of session handle. If not passed, all sessions will be closed. \\
\hline
\end{DoxyParams}
\hypertarget{a00002_a58091a18a0bdccb39945a7b64130656d}{
\index{cURL@{cURL}!errors@{errors}}
\index{errors@{errors}!cURL@{cURL}}
\subsubsection[{errors}]{\setlength{\rightskip}{0pt plus 5cm}cURL::errors (
\begin{DoxyParamCaption}
\item[{\$}]{key = {\ttfamily FALSE}}
\end{DoxyParamCaption}
)}}
\label{a00002_a58091a18a0bdccb39945a7b64130656d}

\begin{DoxyParams}{Parameters}
{\em key} & (optional) Number of \hyperlink{a00002}{cURL} handle.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
If {\ttfamily key} is given, returns array with keys {\ttfamily num} and {\ttfamily err} that are equivalent to descibed below. If session performed succesfuly then {\ttfamily num} will be 0 (zero) and {\ttfamily err} will be just an empty string. If {\ttfamily key} is not specified, returns multidimensional array in format
\begin{DoxyItemize}
\item {\ttfamily result\mbox{[}{\bfseries handle\_\-number}\mbox{]}\mbox{[}'num'\mbox{]}}: Internal number of \hyperlink{a00002}{cURL} error.
\item {\ttfamily result\mbox{[}{\bfseries handle\_\-number}\mbox{]}\mbox{[}'err'\mbox{]}}: Clear text error message.
\end{DoxyItemize}
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\href{http://curl.haxx.se/libcurl/c/libcurl-errors.html}{\tt http://curl.haxx.se/libcurl/c/libcurl-\/errors.html} For possible error codes. 
\end{DoxySeeAlso}
\hypertarget{a00002_a127dd482f013a004d70d80ceb860064a}{
\index{cURL@{cURL}!exec@{exec}}
\index{exec@{exec}!cURL@{cURL}}
\subsubsection[{exec}]{\setlength{\rightskip}{0pt plus 5cm}cURL::exec (
\begin{DoxyParamCaption}
\item[{\$}]{key = {\ttfamily FALSE}}
\end{DoxyParamCaption}
)}}
\label{a00002_a127dd482f013a004d70d80ceb860064a}
Executes the given \hyperlink{a00002}{cURL} session. This function should be called after initializing all \hyperlink{a00002}{cURL} sessions and all the options for the sessions are set. When key is not specified, if more than one session were initialized performs multithreaded execution. Should throw RuntimeException if some errors occured while multithreaded execution.


\begin{DoxyParams}{Parameters}
{\em key} & (optional) Number of session handle. Usualy there is no need to use it.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Returns TRUE on success or FALSE on failure. However, if the CURLOPT\_\-RETURNTRANSFER option is set, it will return the result (or the array of results) on success, FALSE on failure. 
\end{DoxyReturn}
\hypertarget{a00002_ac81de18f56fe9fe2cfe5f06325feff61}{
\index{cURL@{cURL}!info@{info}}
\index{info@{info}!cURL@{cURL}}
\subsubsection[{info}]{\setlength{\rightskip}{0pt plus 5cm}cURL::info (
\begin{DoxyParamCaption}
\item[{\$}]{key = {\ttfamily FALSE}, }
\item[{\$}]{option = {\ttfamily FALSE}}
\end{DoxyParamCaption}
)}}
\label{a00002_ac81de18f56fe9fe2cfe5f06325feff61}
Gets information about the last transfer in session with specified {\ttfamily key}.


\begin{DoxyParams}{Parameters}
{\em key} & (optional) A number of a \hyperlink{a00002}{cURL} handle. \\
\hline
{\em option} & (optional) An option to check for.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
If both parameters are specified, returns string value of an {\ttfamily option} for session with number {\ttfamily key}. If only first parameter assigned then returns an associative array with the informational elements. If none parameters given, returns multidimensional array which as the first dimension contains a number of handle and the second is associative array of informational elements for that session.
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\href{http://www.php.net/curl_getinfo}{\tt http://www.php.net/curl\_\-getinfo} 
\end{DoxySeeAlso}
\hypertarget{a00002_aaa612ff5c1295a3f34551c72732a73d9}{
\index{cURL@{cURL}!init@{init}}
\index{init@{init}!cURL@{cURL}}
\subsubsection[{init}]{\setlength{\rightskip}{0pt plus 5cm}cURL::init (
\begin{DoxyParamCaption}
\item[{\$}]{url, }
\item[{\$}]{options = {\ttfamily FALSE}}
\end{DoxyParamCaption}
)}}
\label{a00002_aaa612ff5c1295a3f34551c72732a73d9}
Creates first \hyperlink{a00002}{cURL} session or adds a new one to already exsisted queue. You can pass array as first parameter to initiate few sessions at once and every session will be associated with options specified by second parameter.


\begin{DoxyParams}{Parameters}
{\em url} & A string containing URL to be proceed or an array of strings. If you pass to it array and some records in the middle of it will be wrong then they and the records followed after they wouldn't be initialized. \\
\hline
{\em options} & (optional) An associative array containing options of session or sessions (in case of array passed first parameter) to be created. It has higher priority and so will replace duplicate parameters from constructor.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Returns boolean FALSE, if session or sessions initiation failed. Otherwise returns TRUE. 
\end{DoxyReturn}
\hypertarget{a00002_a04f65f438657b85a8ade972337bae40a}{
\index{cURL@{cURL}!set\_\-option@{set\_\-option}}
\index{set\_\-option@{set\_\-option}!cURL@{cURL}}
\subsubsection[{set\_\-option}]{\setlength{\rightskip}{0pt plus 5cm}cURL::set\_\-option (
\begin{DoxyParamCaption}
\item[{\$}]{option, }
\item[{\$}]{value, }
\item[{\$}]{key = {\ttfamily 0}}
\end{DoxyParamCaption}
)}}
\label{a00002_a04f65f438657b85a8ade972337bae40a}
Sets an option on the given \hyperlink{a00002}{cURL} session handle.


\begin{DoxyParams}{Parameters}
{\em option} & The CURLOPT\_\-XXX option to set. \\
\hline
{\em value} & The value to be set on {\ttfamily option}. \\
\hline
{\em key} & (optional) Number of session handle. In normal flow there is no need to use it.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Returns TRUE on success or FALSE on failure.
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\href{http://www.php.net/curl_setopt}{\tt http://www.php.net/curl\_\-setopt} 
\end{DoxySeeAlso}
\hypertarget{a00002_a4a4d54096ca38588538dc6d985a9d770}{
\index{cURL@{cURL}!set\_\-options@{set\_\-options}}
\index{set\_\-options@{set\_\-options}!cURL@{cURL}}
\subsubsection[{set\_\-options}]{\setlength{\rightskip}{0pt plus 5cm}cURL::set\_\-options (
\begin{DoxyParamCaption}
\item[{array \$}]{options, }
\item[{\$}]{key = {\ttfamily 0}}
\end{DoxyParamCaption}
)}}
\label{a00002_a4a4d54096ca38588538dc6d985a9d770}
Sets multiple options for a \hyperlink{a00002}{cURL} session. This function is useful for setting a large amount of \hyperlink{a00002}{cURL} options without repetitively calling \hyperlink{a00002_a04f65f438657b85a8ade972337bae40a}{set\_\-option()}. May throw DomainException.


\begin{DoxyParams}{Parameters}
{\em options} & An array specifying which options to set and their values. The keys should be valid curl\_\-setopt() constants or their integer equivalents. \\
\hline
{\em key} & (optional) Number of session handle. In normal flow there is no need to use it.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Returns TRUE if all options were successfully set. If an option could not be successfully set, FALSE is immediately returned, ignoring any future options in the options array.
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\href{http://www.php.net/curl_setopt_array}{\tt http://www.php.net/curl\_\-setopt\_\-array} 
\end{DoxySeeAlso}


The documentation for this class was generated from the following file:\begin{DoxyCompactItemize}
\item 
cURL.class.php\end{DoxyCompactItemize}
